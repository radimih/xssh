# `xssh`

Bash-скрипт для организации SSH-соединений.

SSH-соединения хранятся в виде отдельных файлов-профилей, организованные по подкаталогам
произвольной структуры.

Скрипт зависит от следующих пакетов/приложений:

- `jq`
- `python3-yaml` (Debian/Ubuntu)
- `python3-pyyaml` (RedHat/Fedora)
- `ranger`
- `sshpass`

Ansible-роль по установке скрипта: [github.com/radimih/dotfiles/ansible/roles/xssh](https://github.com/radimih/dotfiles/tree/master/ansible/roles/xssh)

## Конфигурация

При запуске скрипта считывается конфигурационный файл `~/.config/xssh/xssh.conf`.
Если его не существует, то он будет создан со значениями по-умолчанию (см. ниже).

Формат конфигурационного файла: shell-скрипт. Соответственно, параметры задаются
как переменные скрипта.

### Параметры

| Параметр               | Описание | Default
| ---------------------- | -------- | -------
| `XSSH_CONNECTIONS_DIR` | Каталог, где хранятся файлы-профили соединений | `~/.ssh/connections`

## Профили соединений

Один YAML-файл описывает одно SSH-соединение. Формат:

```yaml
name: <произвольное название>
host: <IP или DNS-имя хоста>
user: <имя пользователя, под которым будет создано SSH-соединение>
[password: <пароль>]
```
